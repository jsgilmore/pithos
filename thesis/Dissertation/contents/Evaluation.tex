\chapter{Pithos Evaluation}
    \label{chp:EVALUATION}
\section{Introduction}
The Pithos design and implementation has now been discussed. In this chapter, the various mechanisms of Pithos will be evaluated and compared to other implementations.

Section \ref{key_mechanisms} presents the key mechanisms that Pithos uses to enable it to satisfy the goals set out in Section \ref{use_cases_goals}. Section \ref{key_mechanisms} often described multiple methods in which a mechanism was implemented. The reason for implementing mechanisms using multiple methods is to be able to compare them. Some methods are theoretically better than others, while some methods are better suited to differing network conditions.

The purpose of this chapter is twofold. To compare the various methods of mechanism implementation and to compare Pithos with other storage architectures reviewed in Chapter \ref{p2p_MMVE_state_persistency}. Each comparison will be performed using the metrics defined in Section \ref{key_challenges_cm}. All metrics were also measured as described in that section, but specific measurement details, as it relates to the simulation implementation will also be presented in this chapter.

\section{Simulation setup}
In the results shown, Chord was used as the P2P overlay, mainly due to its faster simulation time. Pithos has, however, also been tested with Pastry and results are similar. After a node has joined the network, PithosTestApp starts to generate store and retrieve requests at a rate of one objects every 5 seconds and a size of 1024 bytes. The size of 1024 byte objects was chosen to be much larger than Quake 3 game objects without delta encoding, used in \cite{Bharambe_Donnybrook}. Pithos is designed for the low latency storage of small game objects.

%The node lifetime should still be justified
For the results shown, 2500 peers, 100 super peers and a single directory server are created at the start of the simulation. The simulation runs for 10,000 seconds. Exponential node lifetimes with 1800 seconds averages are used when testing the store and retrieve requests. The applicability of this lifetime distribution will be explored in Section \ref{}.

The simulation used a channel bandwidth of 10 Mbps. Pithos has also been successfully tested for a 1 Mbps link, which initially caused some bugs due to timeouts not being sufficient for the bandwidth, but has since been corrected. Results of the 1 Mbps link is also similar to the 10 Mbps results.

For testing store and retrieve requests, a time-to-live (TTL) of 300s were chosen.

\begin{table}[htbp]
\centering
\begin{tabular}{|c|c|c|c|c|}
\hline
Entity & Storage method & Retrieval method & Reliability & Responsiveness (s)\\
\hline
Pithos  &   Safe    &   N/A         &   0.970   &   1.576\\
Pithos  &   Fast    &   N/A         &   1.0     &   0.0488\\
Pithos  &   Fast    &   Fast        &   0.9970  &   0.196\\
Pithos  &   Safe    &   Fast        &   0.9977  &   0.198\\
Pithos  &   Safe    &   Parallel    &           &        \\
Pithos  &   Fast    &   Parallel    &   0.9998  &   0.0876\\
\hline
Overlay &   High    &   N/A         &   0.969   &   1.214  \\
Overlay &   High    &   High        &   0.9320  &   1.582  \\
Overlay &   Medium  &   N/A         &           &          \\
Overlay &   Medium  &   Medium      &           &         \\
Overlay &   Low     &   N/A         &           &         \\
Overlay &   Low     &   Low         &           &         \\
\hline
\end{tabular}
\caption{Evaluation of responsiveness and reliability of various Pithos storage and retrieval methods as well as overlay storage and retrieval}
\label{tab_rel_resp_results}
\end{table}

\begin{table}[htbp]
\centering
\begin{tabular}{|c|c|c|c|c|}
\hline
Entity & Storage method & Retrieval method & Repair & Inbound bandwidth (bytes/s) & Outbound bandwidth (bytes/s)\\
\hline
Group   &   Fast    &   Fast      &   no       &   186  &  182      \\
Group   &   Safe    &   Fast      &   no       &   183  &  180 \\
Group   &   Safe    &   Parallel  &   no       &        &       \\
Group   &   Fast    &   Parallel  &   no       &   784  &  735\\
\hline
Overlay &   High    &   High      &  1183  &  1197  \\
Overlay &   Medium  &   Medium    &        &        \\
Overlay &   Low     &   Low       &        &       \\
\hline
\end{tabular}
\caption{Evaluation of bandwidth requirements of various Pithos storage and retrieval methods as well as overlay storage and retrieval}
\label{tab_bandwidth_results}
\end{table}

%The following need to be compared with varying key parameters
%Malicious nodes: Group   &   Fast    &   Safe      &   no       &        &       \\
%Malicious nodes: Group   &   Safe    &   Safe      &   no       &        &       \\
%Churn:           Group   &   Fast    &   Fast      &   leaving  &        &        \\
%Churn:           Group   &   Fast    &   Fast      &   periodic &        &        \\

    \section{Storage}
            \subsection{Safe}
                \subsubsection{Responsiveness}


                \subsubsection{Reliability}
                        \label{reliability_compare_storage}
            \subsection{Fast}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
            \subsection{Overlay storage}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
                \subsubsection{Overhead}
            \subsection{Super peer storage}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
                \subsubsection{Overhead}
            \subsection{Comparison}

    \section{Retrieval}
            \subsection{Fast}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
                \subsubsection{Fairness}
                \subsubsection{Security}
                \subsubsection{Overhead}
            \subsection{Parallel}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
                \subsubsection{Fairness}
                \subsubsection{Security}
                \subsubsection{Overhead}
            \subsection{Safe}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
                \subsubsection{Fairness}
                \subsubsection{Security}
                \subsubsection{Overhead}
            \subsection{Comparison with overlay storage}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
                \subsubsection{Fairness}
                \subsubsection{Security}
                \subsubsection{Overhead}
            \subsection{Comparison with super peer storage}
                \subsubsection{Responsiveness}
                \subsubsection{Reliability}
                \subsubsection{Fairness}
                \subsubsection{Security}
                \subsubsection{Overhead}

\section{Object distribution (fairness)}

    \section{Repair}
            \subsection{Periodic}
                \subsubsection{Reliability}
                \subsubsection{Overhead}
            \subsection{Lazy}
                \subsubsection{Reliability}
                \subsubsection{Overhead}

\section{Conclusion}
